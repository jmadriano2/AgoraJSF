<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title><ui:insert name="title">Agora</ui:insert></title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <ui:insert name="custom"/>

    <link rel="shortcut icon" type="image/x-icon" href="#{resource['images/logo2.png']}"/>

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"/>
</h:head>

<h:body>
    <b:navBar brandImg="#{resource['images:agora_login.png']}" brandHref="/protected/homepage.jsf" class="top"
              fixed="top" sticky="false">
        <b:form class="search_box">
            <b:inputText fieldSize="sm" span="6" placeholder="Search">
                <f:facet name="append">
                    <b:commandButton class="search_btn" look="primary" iconAwesome="search"/>
                </f:facet>
            </b:inputText>
        </b:form>

        <b:navbarLinks>
            <b:button look="success" size="sm" value="#{authBean.loggedUsername}" href="#"/>
            <b:button look="success" size="sm" value="Home" href="home.jsf"/>
        </b:navbarLinks>

        <b:dropButton look="success" value=" " size="sm">
            <b:navLink value="My Activities" href="#"/>
            <b:navLink value="Settings" href="#"/>
            <b:navLink value="Log Out" href="/index.jsf"/>
        </b:dropButton>
    </b:navBar>

    <b:scrollUp distance="200" animation="fade" text="" scrollTitle="false" name="scrollUpCustom"/>

    <b:container fluid="true" styleClass="cont">
        <b:row>
            <b:column offset="1" span="2" style="padding: 0px; position: sticky; top: 85px;" hidden="sm, xs">
                <b:panel look="success" title="My Neighbourhood" collapsible="false">
                    <b:row>
                        <b:column span="5" style="padding:0px;">
                            <b:navLink>
                                <b:image value="../#{authBean.loggedUser.user_imgpath}" span="12"/>
                            </b:navLink>
                        </b:column>
                        <b:navLink value="#{authBean.loggedUsername}"/>
                    </b:row>
                    <br/>
                    <b:listLinks>
                        <b:form>
                            <hr style="margin:2px;"/>
                            <b:navLink header="My Cities" span="12"/>
                            <hr style="margin:2px;"/>
                            <br/>
                            <ui:repeat value="#{sidebarBean.myCities}" var="myCities">
                                <b:navCommandLink value="#{myCities}" span="12" styleClass="sidebar"/>
                            </ui:repeat>

                            <hr style="margin:2px;"/>
                            <b:navLink header="Nearby Cities" span="12"/>
                            <hr style="margin:2px;"/>

                            <ui:repeat value="#{sidebarBean.nearbyCities}" var="nearbyCities">
                                <b:navCommandLink value="#{nearbyCities}" span="12" styleClass="sidebar"/>
                            </ui:repeat>

                            <hr style="margin:2px;"/>
                            <b:navLink header="My Neighbours" span="12"/>
                            <hr style="margin:2px;"/>

                            <ui:repeat value="#{sidebarBean.myNeighbours}" var="myNeighbours">
                                <b:navCommandLink value="#{myNeighbours}" span="12" styleClass="sidebar"/>
                            </ui:repeat>
                        </b:form>
                    </b:listLinks>
                </b:panel>
            </b:column>
            <b:column span="7">
                <ui:insert name="cities"/>
                <ui:insert name="panels"/>
                <ui:insert name="details"/>
                <ui:insert name="mood"/>
                <ui:insert name="comments"/>
            </b:column>
        </b:row>
    </b:container>
</h:body>

</html>
